# log differencing

Logdiff takes the log output of your recent commit/push and highlights differences to the previous commit/push.
Rather than comparing the log files as text document, it builds a reference software model from the log files as a baseline for each comparsion.

## Quickstart by Example

Take a look at https://github.com/APTA-Technologies/logdiff-example for a minimal example configuration.

## Quickstart Guide

(1) Head over to logdiff.apta.tech to obtain an API key. It's used to store the previous software model and the comparision results. 
(2) Set up an action using `APTA-Technologies/logdiff@v1` e.g. on `push`. The logdiff action It takes a couple of parameters: `
	- tracefile` is the file generated by your test runs,
	-  `inifile` contains settings for `flexfringe`, the inference tool used for building reference software models. You can leave it at its default value (`edsm.ini`), read the documentation of flexfringen to get more fine control of the model, or contact us at APTA.
	- Lastely, it takes `apitoken` to ensure read/write access is confined to each users own repositories.
Your entry might look like this: 
```
      - name: Run logdiff
        id: logdiff
        uses: APTA-Technologies/logdiff@v1
        with:
          tracefile: logtrace.csv
          inifile: edsm.ini
          apitoken: ${{ secrets.LOGDIFF_API_KEY }}
```
The `logdiff action` requires write permissions in the folder with the `tracefile`.
(3) Ensure you generate the `tracefile` in the right input format. Ideally, a comma-separated CSV file with the following headers:
	- `id` or multiple `id-X`, `id-Y`, etc.: These can be testcase names, user or sesson ids for the log events, or similar trace information. If multiple `d-X` fields are present, a single field is created by concatenation.
	- `symb`: the actual event name being logged. 

(4) After running, the action will publish the following artifacts:
	- a model as json file
	- a trace-by-trace result file as csv
	- a human-readable/interpreted result file as csv

## Contact

You can reach us via email at hello at apta dot tech, or via @chrshmmmr on twitter, or by raising an issue here on github.



